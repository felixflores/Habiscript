!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).version={})}(this,(function(e){"use strict";const t=/\.[^.#]+/g,n=/#[^.#]+/;function o(e,t={},n){const o=document.createElement(e);for(const[e,n]of Object.entries(t))"style"===e&&"object"==typeof n?Object.assign(o.style,n):void 0!==n&&o.setAttribute(e,n);for(const e of n)"string"==typeof e?o.appendChild(document.createTextNode(e)):e instanceof Node?o.appendChild(e):Array.isArray(e)&&o.appendChild(s(e));return o}function s(e){if("string"==typeof e)return document.createTextNode(e);const[r,...i]=e;let a,c={};if("string"!=typeof r)throw new Error("The first element of the nestml array must be a string.");{a=r.split(/[#.]/)[0];const e=r.match(t),o=r.match(n);e&&(c.class=e.map((e=>e.substring(1))).join(" ")),o&&(c.id=o[0].substring(1))}i.length>0&&"object"==typeof i[0]&&!Array.isArray(i[0])&&Object.assign(c,i.shift());return o(a,c,i.flatMap((e=>Array.isArray(e)?s(e):"string"==typeof e?document.createTextNode(e):e)))}e.classRegex=t,e.createElement=o,e.htmlToNestml=function e(t){if("string"==typeof t){return e((new DOMParser).parseFromString(t,"text/html").body.firstChild)}if(t.nodeType===Node.TEXT_NODE)return t.textContent;let n=t.tagName.toLowerCase();t.id&&(n+=`#${t.id}`),t.className&&(n+=`.${t.className.split(" ").join(".")}`);const o=[n],s={};for(const e of t.attributes)"class"!==e.name&&"id"!==e.name&&(s[e.name]=e.value);Object.keys(s).length>0&&o.push(s);for(const n of t.childNodes)o.push(e(n));return o},e.idRegex=n,e.nestmlToHtml=s}));
