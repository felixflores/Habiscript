<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Habiscript Example</title>
    <script src="habiscript.bundle.js"></script>
  </head>

  <body>
    <script>
      // Convert an HTML string to the Habiscript array format
      const htmlString = "<div><p>Hello World</p></div>";
      const habiscriptArray = Habiscript.htmlToHabi(htmlString);
      console.log(habiscriptArray);

      // Convert a Habiscript array back to an HTML element
      const htmlElement = Habiscript.habiToHtml(habiscriptArray);
      document.body.appendChild(htmlElement);

      function Button({ id, className, style, onClick, text }) {
        return [`button#${id}.${className}`, { style, onclick: onClick }, text];
      }

      function TextBox({ id, className, style, onChange, placeholder }) {
        return [
          `input#${id}.${className}`,
          { type: "text", style, placeholder, onChange: onChange },
        ];
      }

      function MyApp() {
        const handleButtonClick = () => console.log("Button clicked");
        const handleTextChange = (e) =>
          console.log("Text changed to:", e.target.value);

        return [
          "div#app.container",
          Button({
            id: "myButton",
            className: "btn btn-primary",
            style: ["margin", "10px"],
            onClick: handleButtonClick,
            text: "Click Me",
          }),
          TextBox({
            id: "myTextBox",
            className: "form-control",
            style: ["margin", "10px"],
            onChange: handleTextChange,
            placeholder: "Enter text here",
          }),
        ];
      }

      // Render MyApp to the DOM
      document.addEventListener("DOMContentLoaded", () => {
        const app = Habiscript.habiToHtml(MyApp());
        document.body.appendChild(app);
      });
    </script>
  </body>
</html>
